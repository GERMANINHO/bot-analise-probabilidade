<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BOT ‚Ä¢ An√°lise de Probabilidade (Estudo)</title>
  <meta name="description" content="Leitura de hist√≥ricos de loterias e gera√ß√£o de relat√≥rios estat√≠sticos/probabil√≠sticos para estudo e auditoria de aleatoriedade." />

  <style>
    :root{
      --bg:#0b1220;
      --card:#0f1b33;
      --muted:#9fb3d1;
      --text:#e8f0ff;
      --accent:#4da3ff;
      --ok:#2bd576;
      --warn:#ffcc66;
      --bad:#ff5d5d;
      --border:rgba(255,255,255,.10);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 20% 0%, rgba(77,163,255,.12), transparent 60%),
                  radial-gradient(1200px 800px at 90% 20%, rgba(43,213,118,.10), transparent 55%),
                  var(--bg);
      color:var(--text);
    }
    a{ color:var(--accent); text-decoration:none; }
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:24px;
    }
    header{
      display:flex;
      gap:16px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom:18px;
    }
    .title h1{
      margin:0;
      font-size:22px;
      letter-spacing:.2px;
    }
    .title p{
      margin:6px 0 0;
      color:var(--muted);
      max-width:70ch;
      line-height:1.35;
      font-size:13px;
    }
    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:8px 10px;
      border:1px solid var(--border);
      border-radius:999px;
      background:rgba(255,255,255,.04);
      color:var(--muted);
      font-size:12px;
      user-select:none;
    }

    .grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:16px;
    }
    @media (max-width: 900px){
      .grid{ grid-template-columns:1fr; }
    }

    .card{
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      border-radius:16px;
      padding:16px;
      box-shadow: 0 10px 35px rgba(0,0,0,.25);
    }
    .card h2{
      margin:0 0 10px;
      font-size:14px;
      color:var(--muted);
      font-weight:600;
      letter-spacing:.2px;
    }

    .controls{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }
    select, button, input[type="file"]{
      border:1px solid var(--border);
      background:rgba(15,27,51,.65);
      color:var(--text);
      border-radius:12px;
      padding:10px 12px;
      outline:none;
      font-size:14px;
    }
    select{ min-width:240px; }
    button{
      cursor:pointer;
      transition: transform .04s ease, filter .12s ease;
    }
    button:hover{ filter:brightness(1.08); }
    button:active{ transform: translateY(1px); }
    .btn-primary{
      background: linear-gradient(180deg, rgba(77,163,255,.25), rgba(77,163,255,.10));
      border-color: rgba(77,163,255,.35);
    }
    .btn-ghost{
      background: rgba(255,255,255,.04);
    }
    .hint{
      margin-top:10px;
      color:var(--muted);
      font-size:12px;
      line-height:1.35;
    }

    .status{
      margin-top:12px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      background:rgba(0,0,0,.18);
      color:var(--muted);
      font-size:12px;
      line-height:1.35;
      white-space:pre-wrap;
      min-height:42px;
    }
    .status.ok{ border-color: rgba(43,213,118,.35); }
    .status.warn{ border-color: rgba(255,204,102,.35); }
    .status.bad{ border-color: rgba(255,93,93,.35); }

    .summary{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 520px){
      .summary{ grid-template-columns:1fr; }
    }
    .kpi{
      border:1px solid var(--border);
      border-radius:14px;
      padding:12px;
      background:rgba(255,255,255,.03);
    }
    .kpi .label{
      font-size:12px;
      color:var(--muted);
      margin-bottom:6px;
    }
    .kpi .value{
      font-size:18px;
      font-weight:700;
      letter-spacing:.2px;
    }

    table{
      width:100%;
      border-collapse:collapse;
      font-size:13px;
      overflow:hidden;
      border-radius:14px;
    }
    th, td{
      border-bottom:1px solid var(--border);
      padding:10px 10px;
      text-align:left;
    }
    th{
      color:var(--muted);
      font-weight:600;
      background:rgba(255,255,255,.03);
    }
    .small{ font-size:12px; color:var(--muted); }

    footer{
      margin-top:18px;
      color:var(--muted);
      font-size:12px;
      line-height:1.35;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="title">
        <h1>BOT ‚Ä¢ An√°lise de Probabilidade (Estudo)</h1>
        <p>
          Ferramenta educativa para ler hist√≥ricos (Excel/JSON), validar dados e gerar relat√≥rios estat√≠sticos
          (frequ√™ncias, pares, distribui√ß√£o etc.). N√£o √© ‚Äúestrat√©gia de aposta‚Äù.
        </p>
      </div>
      <div class="pill" title="Tudo rodando no navegador via GitHub Pages">
        <span>üåê</span>
        <span>GitHub Pages ‚Ä¢ Frontend</span>
      </div>
    </header>

    <div class="grid">
      <!-- CONTROLES -->
      <section class="card">
        <h2>1) Fonte de dados</h2>

        <div class="controls">
          <select id="lotterySelect" aria-label="Escolha a loteria">
            <option value="mega-sena">Mega-Sena</option>
            <option value="lotofacil">Lotof√°cil</option>
            <option value="quina">Quina</option>
            <option value="lotomania">Lotomania</option>
            <option value="timemania">Timemania</option>
            <option value="dupla-sena">Dupla Sena</option>
            <option value="loteca">Loteca</option>
            <option value="dia-de-sorte">Dia de Sorte</option>
            <option value="super-sete">Super Sete</option>
            <option value="mais-milionaria">+Milion√°ria</option>
          </select>

          <button id="btnLoad" class="btn-primary" type="button">
            Carregar dataset (JSON)
          </button>

          <button id="btnClear" class="btn-ghost" type="button">
            Limpar tela
          </button>

          <button id="btnExport" class="btn-ghost" type="button" disabled>
            Exportar relat√≥rio (JSON)
          </button>
        </div>

        <p class="hint">
          <strong>Como vai funcionar:</strong> o reposit√≥rio vai guardar os excels em <code>/data/raw</code>.
          Um workflow do GitHub (Actions) converte esses excels para JSON em <code>/data/json</code>.
          Esta p√°gina l√™ os JSON e exibe as an√°lises.
        </p>

        <div id="status" class="status">
          Pronto. Selecione uma loteria e clique em ‚ÄúCarregar dataset (JSON)‚Äù.
        </div>
      </section>

      <!-- RESUMO -->
      <section class="card">
        <h2>2) Resumo</h2>

        <div id="summary" class="summary">
          <div class="kpi">
            <div class="label">Concursos carregados</div>
            <div class="value" id="kpiDraws">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label">Universo (N m√°ximo)</div>
            <div class="value" id="kpiMaxN">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label">N√∫meros por concurso</div>
            <div class="value" id="kpiK">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label">√öltimo concurso (id/data)</div>
            <div class="value" id="kpiLast">‚Äî</div>
          </div>
        </div>

        <p class="small" style="margin-top:10px;">
          Observa√ß√£o: o BOT vai validar consist√™ncia (faixa de n√∫meros, duplicidade, quantidade por concurso, etc.).
        </p>
      </section>
    </div>

    <!-- OUTPUT -->
    <section class="card" style="margin-top:16px;">
      <h2>3) An√°lises</h2>

      <div id="output">
        <p class="small">Carregue um dataset para aparecerem as tabelas/estat√≠sticas aqui.</p>

        <div style="margin-top:10px; overflow:auto;">
          <table id="freqTable" aria-label="Tabela de frequ√™ncias" style="display:none;">
            <thead>
              <tr>
                <th>N√∫mero</th>
                <th>Frequ√™ncia</th>
                <th>Propor√ß√£o</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <footer>
      <div>
        Reposit√≥rio: <span id="repoHint" class="small">GERMANINHO/bot-analise-probabilidade</span>
      </div>
    </footer>
  </div>

  <!-- FRONTEND -->
  <script type="module" src="./app.js"></script>
</body>
</html>
